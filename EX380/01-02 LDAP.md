### Create a lab for this question.
```
lab start auth-ldap
```

# You need to install and configure the LDAP 
```html
Name:               : ANISH-ldap-ex380-1
Bind DN (-D)        : cn=Directory Manager
URL and BaseDN      : ldaps://rhds.ocp4.example.com/dc=example,dc=com?uid
Bind password (-w)  : redhatocp
Insecure            : false
Method              : claim
Query Method        : uid


Attributes 
------------------------
Preferred username : uid
Email   : mail
ID      : dn
Name    : cn
```

## Once LDAP configured, user `kristendelgado` must able to login with password `redhat123`

## You can download the certificate from below URL and maintain the original name of the certificate.
https://raw.githubusercontent.com/anishrana2001/Openshift/refs/heads/main/EX380/ca.crt
---


### Solution 
# Login by admin user
```
oc login -u admin -p redhatocp https://api.ocp4.example.com:6443
```
### Identify the URL for the OpenShift web console.
```
oc whoami --show-console
```
### For your references.
```
[student@workstation ~]$ oc whoami --show-console
https://console-openshift-console.apps.ocp4.example.com
```
### Take the backup.

```
oc get oauth cluster -o yaml
oc get oauth cluster -o yaml > oath.yaml
```

### Check the ConfigMap and Secret in the `openshift-config` namespace
```
oc -n openshift-config get cm,secret
```

### Open the web console by click on `Red Hat Identity Management` and log in as the `admin` user with the `redhatocp` password.
### Click `Administration` â†’ `Cluster Settings` from the sidebar menu and then Click the `Configuration` tab
### 


### If required, you can fallback the changes. 
```
oc replace -f oauth.yaml
```
```
watch oc get pods -n openshift-authentication
```


### For full solution, please watch my private video for this topic.
