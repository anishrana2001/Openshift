## How you can reach me?
```
linkedin: anishrana2001
Email ID:  anishrana2001@rediffmail.com
```

### Prepare the lab
```
oc login -u admin -p redhatocp   https://api.ocp4.example.com:6443
lab start backup-restore

oc new-project chapter1
curl -o my-app-deployment https://raw.githubusercontent.com/anishrana2001/Openshift/refs/heads/main/EX380/deployment-02%3A03-backup.yaml
oc apply -f my-app-deployment

curl -o backup-my-app.yaml https://raw.githubusercontent.com/anishrana2001/Openshift/refs/heads/main/EX380/backup-my-app-02-03.yaml
oc apply -f backup-my-app.yaml

sleep 40s;
oc delete project chapter1 
```
# Question: One customer database application is suddenly crashed and the good news is that we have a backup. 
# Your task is to restore the failed application and the restore name must be 'restore-my-app'

# You can use below documentation:
```
https://docs.redhat.com/en/documentation/openshift_container_platform/4.14/html/backup_and_restore/oadp-application-backup-and-restore
```
---
---
---
## Solution:
```

oc project openshift-adp 
oc exec -it deployment.apps/velero  -c velero -- ./velero get backup my-app 

velero get backup my-app  -o yaml | grep -i namespace -A 3
vi restore-my-app.yml 
oc apply -f restore-my-app.yml 


velero get restore
velero describe restore restore-my-app

velero describe restore restore-my-app --details

oc project chapter1

oc get all
oc logs POD_NAME
oc create sa myservice
oc adm policy add-scc-to-user anyuid myservice
oc set serviceaccount  deployment.apps/my-app-deployment    myservice
oc get all 
```

## How to clean the lab?

```
oc exec -it deployment.apps/velero  -c velero -- ./velero delete backup my-app
oc exec -it deployment.apps/velero  -c velero -- ./velero delete restore restore-my-app
oc delete project chapter1 
lab finish backup-restore
```
