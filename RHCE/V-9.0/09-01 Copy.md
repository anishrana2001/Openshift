### Question : Your task is to overwrite the file '/etc/redhat-release` as follows.
- Create a playbook named `redhat-release.yaml` under `/home/student/ansible/` direcotry for this task.
- Nodes in the `lab` hosts group shoule have `username rajan`
- Nodes in the `production` hosts group shoule have `YouTube channel=devops-wala`
- Node `serverb` shoule have `anishrana2001`
---

### Solution: 

#### Search for `content` key in the below command output.
```
ansible-doc copy
```
```
- name: Copy using inline content
  ansible.builtin.copy:
    content: '# This file was moved to /etc/other.conf'
    dest: /etc/mine.conf
```
#### You need to add the line `when: inventory_hostname in groups.lab` at the end, like below.

```
   - name: Copy using inline content
     ansible.builtin.copy:
       content: username rajan
       dest: /etc/redhat-release
     when: inventory_hostname in groups.lab
```

### Now, create a ansible playbook `/home/student/ansible/redhat-release.yaml`
```
---
- name: Modidy the file.
  hosts: all
  tasks:
   - name: Copy using inline content
     ansible.builtin.copy:
       content: username rajan
       dest: /etc/redhat-release
     when: inventory_hostname in groups.lab
    
   - name: Copy using inline content
     ansible.builtin.copy:
       content: YouTube channel=devops-wala
       dest: /etc/redhat-release
     when: inventory_hostname in groups.production

   - name: Copy using inline content
     ansible.builtin.copy:
       content: anishrana2001
       dest: /etc/redhat-release
     when: inventory_hostname == "serverb"
```
### Run the playbook.
```
ansible-navigator run redhat-release.yaml -m stdout
```

### Post checks.!!!
```
ansible all -m shell -a 'cat /etc/redhat-release'
```
---
---
### .
---
---

### For your references. 

```
[student@workstation ansible]$ cat /etc/redhat-release 
Red Hat Enterprise Linux release 9.0 (Plow)


[student@workstation ansible]$ cat /home/student/ansible/redhat-release.yaml
---
- name: Modidy the file.
  hosts: all
  tasks:
   - name: Copy using inline content
     ansible.builtin.copy:
       content: username rajan
       dest: /etc/redhat-release
     when: inventory_hostname in groups.lab
    
   - name: Copy using inline content
     ansible.builtin.copy:
       content: YouTube channel=devops-wala
       dest: /etc/redhat-release
     when: inventory_hostname in groups.production

   - name: Copy using inline content
     ansible.builtin.copy:
       content: anishrana2001
       dest: /etc/redhat-release
     when: inventory_hostname == "serverb"
[student@workstation ansible]$



[student@workstation ansible]$ ansible-navigator run redhat-release.yaml -m stdout

PLAY [Modidy the file.] ********************************************************

TASK [Gathering Facts] *********************************************************
ok: [serverc]
ok: [serverd]
ok: [servera]
ok: [serverb]

TASK [Copy using inline content] ***********************************************
skipping: [serverb]
skipping: [serverc]
skipping: [serverd]
ok: [servera]

TASK [Copy using inline content] ***********************************************
skipping: [servera]
skipping: [serverb]
skipping: [serverc]
changed: [serverd]

TASK [Copy using inline content] ***********************************************
skipping: [servera]
skipping: [serverb]
ok: [serverc]
changed: [serverd]

TASK [Copy using inline content] ***********************************************
skipping: [servera]
skipping: [serverc]
skipping: [serverd]
changed: [serverb]

PLAY RECAP *********************************************************************
servera                    : ok=2    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
serverb                    : ok=2    changed=1    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
serverc                    : ok=2    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
serverd                    : ok=3    changed=2    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
[student@workstation ansible]$ 




#### Post checks

[student@workstation ansible]$ ansible all -m shell -a 'cat /etc/redhat-release'
serverd | CHANGED | rc=0 >>
YouTube channel=devops-wala
serverc | CHANGED | rc=0 >>
YouTube channel=devops-wala
servera | CHANGED | rc=0 >>
username rajan
serverb | CHANGED | rc=0 >>
anishrana2001
[student@workstation ansible]$ 
```
